# Machine Learning Model 저장하기

ai를 실행시키는 것은 JSP

예) RandomForest Model을 이용한 Species 예측

### 예측력 확인

```{r}
library(randomForest)
```

```{r}
samp <- c(sample(1:50,35), sample(51:100,35), sample(101:150, 35))
iris.tr <- iris[samp,]
iris.test <- iris[-samp,]
```

학습시키기

```{r}
rf <- randomForest(Species ~ ., data = iris.tr, ntree = 100)#default가 100개
```

-   인공신경망, randomforest, svm 다 돌리고 ntree 숫자 바꿔보며 실행해보고 제일 확률이 좋은 숫자로 예측한다.(for문 사용)

```{r}
x <- subset(iris.test, select = -Species)
y <- iris.test$Species
```

검증

```{r}
pred <- predict(rf, x)
```

```{r}
mean(pred == y)
table(pred, y)
```

```{r}
rf <- randomForest(Species ~., data = iris, ntree = 100)
```

### 학습 내용 저장하기

```{r}
saveRDS(rf, './Data/randomForest_iris.rds')
```
